(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const h of s.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var Dt,tt,_e,Mt,Jt,xe,ye,be,Gt,Yt,Bt,At={},ve=[],Ie=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Nt=Array.isArray;function yt(e,t){for(var n in t)e[n]=t[n];return e}function Ut(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function De(e,t,n){var i,o,s,h={};for(s in t)s=="key"?i=t[s]:s=="ref"?o=t[s]:h[s]=t[s];if(arguments.length>2&&(h.children=arguments.length>3?Dt.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)h[s]===void 0&&(h[s]=e.defaultProps[s]);return Lt(e,h,i,o,null)}function Lt(e,t,n,i,o){var s={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++_e,__i:-1,__u:0};return o==null&&tt.vnode!=null&&tt.vnode(s),s}function xt(e){return e.children}function Rt(e,t){this.props=e,this.context=t}function Tt(e,t){if(t==null)return e.__?Tt(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Tt(e):null}function we(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return we(e)}}function Qt(e){(!e.__d&&(e.__d=!0)&&Mt.push(e)&&!$t.__r++||Jt!=tt.debounceRendering)&&((Jt=tt.debounceRendering)||xe)($t)}function $t(){for(var e,t,n,i,o,s,h,d=1;Mt.length;)Mt.length>d&&Mt.sort(ye),e=Mt.shift(),d=Mt.length,e.__d&&(n=void 0,i=void 0,o=(i=(t=e).__v).__e,s=[],h=[],t.__P&&((n=yt({},i)).__v=i.__v+1,tt.vnode&&tt.vnode(n),Ot(t.__P,n,i,t.__n,t.__P.namespaceURI,32&i.__u?[o]:null,s,o??Tt(i),!!(32&i.__u),h),n.__v=i.__v,n.__.__k[n.__i]=n,Se(s,n,h),i.__e=i.__=null,n.__e!=o&&we(n)));$t.__r=0}function Me(e,t,n,i,o,s,h,d,u,p,a){var f,_,m,v,P,k,y,b=i&&i.__k||ve,D=t.length;for(u=Ne(n,t,b,u,D),f=0;f<D;f++)(m=n.__k[f])!=null&&(_=m.__i==-1?At:b[m.__i]||At,m.__i=f,k=Ot(e,m,_,o,s,h,d,u,p,a),v=m.__e,m.ref&&_.ref!=m.ref&&(_.ref&&jt(_.ref,null,m),a.push(m.ref,m.__c||v,m)),P==null&&v!=null&&(P=v),(y=!!(4&m.__u))||_.__k===m.__k?u=ke(m,u,e,y):typeof m.type=="function"&&k!==void 0?u=k:v&&(u=v.nextSibling),m.__u&=-7);return n.__e=P,u}function Ne(e,t,n,i,o){var s,h,d,u,p,a=n.length,f=a,_=0;for(e.__k=new Array(o),s=0;s<o;s++)(h=t[s])!=null&&typeof h!="boolean"&&typeof h!="function"?(typeof h=="string"||typeof h=="number"||typeof h=="bigint"||h.constructor==String?h=e.__k[s]=Lt(null,h,null,null,null):Nt(h)?h=e.__k[s]=Lt(xt,{children:h},null,null,null):h.constructor==null&&h.__b>0?h=e.__k[s]=Lt(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):e.__k[s]=h,u=s+_,h.__=e,h.__b=e.__b+1,d=null,(p=h.__i=Fe(h,n,u,f))!=-1&&(f--,(d=n[p])&&(d.__u|=2)),d==null||d.__v==null?(p==-1&&(o>a?_--:o<a&&_++),typeof h.type!="function"&&(h.__u|=4)):p!=u&&(p==u-1?_--:p==u+1?_++:(p>u?_--:_++,h.__u|=4))):e.__k[s]=null;if(f)for(s=0;s<a;s++)(d=n[s])!=null&&(2&d.__u)==0&&(d.__e==i&&(i=Tt(d)),Pe(d,d));return i}function ke(e,t,n,i){var o,s;if(typeof e.type=="function"){for(o=e.__k,s=0;o&&s<o.length;s++)o[s]&&(o[s].__=e,t=ke(o[s],t,n,i));return t}e.__e!=t&&(i&&(t&&e.type&&!t.parentNode&&(t=Tt(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Fe(e,t,n,i){var o,s,h,d=e.key,u=e.type,p=t[n],a=p!=null&&(2&p.__u)==0;if(p===null&&d==null||a&&d==p.key&&u==p.type)return n;if(i>(a?1:0)){for(o=n-1,s=n+1;o>=0||s<t.length;)if((p=t[h=o>=0?o--:s++])!=null&&(2&p.__u)==0&&d==p.key&&u==p.type)return h}return-1}function te(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Ie.test(t)?n:n+"px"}function Wt(e,t,n,i,o){var s,h;t:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||te(e.style,t,"");if(n)for(t in n)i&&n[t]==i[t]||te(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")s=t!=(t=t.replace(be,"$1")),h=t.toLowerCase(),t=h in e||t=="onFocusOut"||t=="onFocusIn"?h.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?i?n.u=i.u:(n.u=Gt,e.addEventListener(t,s?Bt:Yt,s)):e.removeEventListener(t,s?Bt:Yt,s);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function ee(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=Gt++;else if(t.t<n.u)return;return n(tt.event?tt.event(t):t)}}}function Ot(e,t,n,i,o,s,h,d,u,p){var a,f,_,m,v,P,k,y,b,D,$,O,I,w,l,C,S,g=t.type;if(t.constructor!=null)return null;128&n.__u&&(u=!!(32&n.__u),s=[d=t.__e=n.__e]),(a=tt.__b)&&a(t);t:if(typeof g=="function")try{if(y=t.props,b="prototype"in g&&g.prototype.render,D=(a=g.contextType)&&i[a.__c],$=a?D?D.props.value:a.__:i,n.__c?k=(f=t.__c=n.__c).__=f.__E:(b?t.__c=f=new g(y,$):(t.__c=f=new Rt(y,$),f.constructor=g,f.render=Ye),D&&D.sub(f),f.state||(f.state={}),f.__n=i,_=f.__d=!0,f.__h=[],f._sb=[]),b&&f.__s==null&&(f.__s=f.state),b&&g.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=yt({},f.__s)),yt(f.__s,g.getDerivedStateFromProps(y,f.__s))),m=f.props,v=f.state,f.__v=t,_)b&&g.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),b&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(b&&g.getDerivedStateFromProps==null&&y!==m&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(y,$),t.__v==n.__v||!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(y,f.__s,$)===!1){for(t.__v!=n.__v&&(f.props=y,f.state=f.__s,f.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(W){W&&(W.__=t)}),O=0;O<f._sb.length;O++)f.__h.push(f._sb[O]);f._sb=[],f.__h.length&&h.push(f);break t}f.componentWillUpdate!=null&&f.componentWillUpdate(y,f.__s,$),b&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(m,v,P)})}if(f.context=$,f.props=y,f.__P=e,f.__e=!1,I=tt.__r,w=0,b){for(f.state=f.__s,f.__d=!1,I&&I(t),a=f.render(f.props,f.state,f.context),l=0;l<f._sb.length;l++)f.__h.push(f._sb[l]);f._sb=[]}else do f.__d=!1,I&&I(t),a=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++w<25);f.state=f.__s,f.getChildContext!=null&&(i=yt(yt({},i),f.getChildContext())),b&&!_&&f.getSnapshotBeforeUpdate!=null&&(P=f.getSnapshotBeforeUpdate(m,v)),C=a,a!=null&&a.type===xt&&a.key==null&&(C=Te(a.props.children)),d=Me(e,Nt(C)?C:[C],t,n,i,o,s,h,d,u,p),f.base=t.__e,t.__u&=-161,f.__h.length&&h.push(f),k&&(f.__E=f.__=null)}catch(W){if(t.__v=null,u||s!=null)if(W.then){for(t.__u|=u?160:128;d&&d.nodeType==8&&d.nextSibling;)d=d.nextSibling;s[s.indexOf(d)]=null,t.__e=d}else{for(S=s.length;S--;)Ut(s[S]);Xt(t)}else t.__e=n.__e,t.__k=n.__k,W.then||Xt(t);tt.__e(W,t,n)}else s==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):d=t.__e=He(n.__e,t,n,i,o,s,h,u,p);return(a=tt.diffed)&&a(t),128&t.__u?void 0:d}function Xt(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(Xt)}function Se(e,t,n){for(var i=0;i<n.length;i++)jt(n[i],n[++i],n[++i]);tt.__c&&tt.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(s){s.call(o)})}catch(s){tt.__e(s,o.__v)}})}function Te(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Nt(e)?e.map(Te):yt({},e)}function He(e,t,n,i,o,s,h,d,u){var p,a,f,_,m,v,P,k=n.props||At,y=t.props,b=t.type;if(b=="svg"?o="http://www.w3.org/2000/svg":b=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),s!=null){for(p=0;p<s.length;p++)if((m=s[p])&&"setAttribute"in m==!!b&&(b?m.localName==b:m.nodeType==3)){e=m,s[p]=null;break}}if(e==null){if(b==null)return document.createTextNode(y);e=document.createElementNS(o,b,y.is&&y),d&&(tt.__m&&tt.__m(t,s),d=!1),s=null}if(b==null)k===y||d&&e.data==y||(e.data=y);else{if(s=s&&Dt.call(e.childNodes),!d&&s!=null)for(k={},p=0;p<e.attributes.length;p++)k[(m=e.attributes[p]).name]=m.value;for(p in k)if(m=k[p],p!="children"){if(p=="dangerouslySetInnerHTML")f=m;else if(!(p in y)){if(p=="value"&&"defaultValue"in y||p=="checked"&&"defaultChecked"in y)continue;Wt(e,p,null,m,o)}}for(p in y)m=y[p],p=="children"?_=m:p=="dangerouslySetInnerHTML"?a=m:p=="value"?v=m:p=="checked"?P=m:d&&typeof m!="function"||k[p]===m||Wt(e,p,m,k[p],o);if(a)d||f&&(a.__html==f.__html||a.__html==e.innerHTML)||(e.innerHTML=a.__html),t.__k=[];else if(f&&(e.innerHTML=""),Me(t.type=="template"?e.content:e,Nt(_)?_:[_],t,n,i,b=="foreignObject"?"http://www.w3.org/1999/xhtml":o,s,h,s?s[0]:n.__k&&Tt(n,0),d,u),s!=null)for(p=s.length;p--;)Ut(s[p]);d||(p="value",b=="progress"&&v==null?e.removeAttribute("value"):v!=null&&(v!==e[p]||b=="progress"&&!v||b=="option"&&v!=k[p])&&Wt(e,p,v,k[p],o),p="checked",P!=null&&P!=e[p]&&Wt(e,p,P,k[p],o))}return e}function jt(e,t,n){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&t==null||(e.__u=e(t))}else e.current=t}catch(o){tt.__e(o,n)}}function Pe(e,t,n){var i,o;if(tt.unmount&&tt.unmount(e),(i=e.ref)&&(i.current&&i.current!=e.__e||jt(i,null,t)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(s){tt.__e(s,t)}i.base=i.__P=null}if(i=e.__k)for(o=0;o<i.length;o++)i[o]&&Pe(i[o],t,n||typeof e.type!="function");n||Ut(e.__e),e.__c=e.__=e.__e=void 0}function Ye(e,t,n){return this.constructor(e,n)}function Be(e,t,n){var i,o,s,h;t==document&&(t=document.documentElement),tt.__&&tt.__(e,t),o=(i=!1)?null:t.__k,s=[],h=[],Ot(t,e=t.__k=De(xt,null,[e]),o||At,At,t.namespaceURI,o?null:t.firstChild?Dt.call(t.childNodes):null,s,o?o.__e:t.firstChild,i,h),Se(s,e,h)}Dt=ve.slice,tt={__e:function(e,t,n,i){for(var o,s,h;t=t.__;)if((o=t.__c)&&!o.__)try{if((s=o.constructor)&&s.getDerivedStateFromError!=null&&(o.setState(s.getDerivedStateFromError(e)),h=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,i||{}),h=o.__d),h)return o.__E=o}catch(d){e=d}throw e}},_e=0,Rt.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=yt({},this.state),typeof e=="function"&&(e=e(yt({},n),this.props)),e&&yt(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Qt(this))},Rt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Qt(this))},Rt.prototype.render=xt,Mt=[],xe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ye=function(e,t){return e.__v.__b-t.__v.__b},$t.__r=0,be=/(PointerCapture)$|Capture$/i,Gt=0,Yt=ee(!1),Bt=ee(!0);var Xe=0;function c(e,t,n,i,o,s){t||(t={});var h,d,u=t;if("ref"in u)for(d in u={},t)d=="ref"?h=t[d]:u[d]=t[d];var p={type:e,props:u,key:n,ref:h,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Xe,__i:-1,__u:0,__source:o,__self:s};if(typeof e=="function"&&(h=e.defaultProps))for(d in h)u[d]===void 0&&(u[d]=h[d]);return tt.vnode&&tt.vnode(p),p}var Ct,at,Ft,ne,zt=0,Ae=[],ht=tt,ie=ht.__b,se=ht.__r,oe=ht.diffed,re=ht.__c,ae=ht.unmount,le=ht.__;function Kt(e,t){ht.__h&&ht.__h(at,e,zt||t),zt=0;var n=at.__H||(at.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function rt(e){return zt=1,Ve(We,e)}function Ve(e,t,n){var i=Kt(Ct++,2);if(i.t=e,!i.__c&&(i.__=[We(void 0,t),function(d){var u=i.__N?i.__N[0]:i.__[0],p=i.t(u,d);u!==p&&(i.__N=[p,i.__[1]],i.__c.setState({}))}],i.__c=at,!at.__f)){var o=function(d,u,p){if(!i.__c.__H)return!0;var a=i.__c.__H.__.filter(function(_){return!!_.__c});if(a.every(function(_){return!_.__N}))return!s||s.call(this,d,u,p);var f=i.__c.props!==d;return a.forEach(function(_){if(_.__N){var m=_.__[0];_.__=_.__N,_.__N=void 0,m!==_.__[0]&&(f=!0)}}),s&&s.call(this,d,u,p)||f};at.__f=!0;var s=at.shouldComponentUpdate,h=at.componentWillUpdate;at.componentWillUpdate=function(d,u,p){if(this.__e){var a=s;s=void 0,o(d,u,p),s=a}h&&h.call(this,d,u,p)},at.shouldComponentUpdate=o}return i.__N||i.__}function bt(e,t){var n=Kt(Ct++,3);!ht.__s&&Ce(n.__H,t)&&(n.__=e,n.u=t,at.__H.__h.push(n))}function pt(e){return zt=5,Ge(function(){return{current:e}},[])}function Ge(e,t){var n=Kt(Ct++,7);return Ce(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Ue(){for(var e;e=Ae.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Et),e.__H.__h.forEach(Vt),e.__H.__h=[]}catch(t){e.__H.__h=[],ht.__e(t,e.__v)}}ht.__b=function(e){at=null,ie&&ie(e)},ht.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),le&&le(e,t)},ht.__r=function(e){se&&se(e),Ct=0;var t=(at=e.__c).__H;t&&(Ft===at?(t.__h=[],at.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(Et),t.__h.forEach(Vt),t.__h=[],Ct=0)),Ft=at},ht.diffed=function(e){oe&&oe(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Ae.push(t)!==1&&ne===ht.requestAnimationFrame||((ne=ht.requestAnimationFrame)||Oe)(Ue)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Ft=at=null},ht.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Et),n.__h=n.__h.filter(function(i){return!i.__||Vt(i)})}catch(i){t.some(function(o){o.__h&&(o.__h=[])}),t=[],ht.__e(i,n.__v)}}),re&&re(e,t)},ht.unmount=function(e){ae&&ae(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{Et(i)}catch(o){t=o}}),n.__H=void 0,t&&ht.__e(t,n.__v))};var ce=typeof requestAnimationFrame=="function";function Oe(e){var t,n=function(){clearTimeout(i),ce&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,35);ce&&(t=requestAnimationFrame(n))}function Et(e){var t=at,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),at=t}function Vt(e){var t=at;e.__c=e.__(),at=t}function Ce(e,t){return!e||e.length!==t.length||t.some(function(n,i){return n!==e[i]})}function We(e,t){return typeof t=="function"?t(e):t}class je{constructor(t){this.model=t}train(t,n,i){if(i!==void 0)return this.trainLegacy(t,n,i);const o=n,s=[];let h=1/0,d={};const u=a=>{const f=[];if(a.step<=0)return[a.min];for(let _=a.min;_<=a.max+1e-4;_+=a.step)f.push(parseFloat(_.toFixed(2)));return f},p=(a,f)=>{if(console.log({paramIndex:a,currentParams:f}),a===o.length){const v=[];let P=0;f.forEach(($,O)=>{o[O].name.toLowerCase().includes("bias")?P=$:v.push($)}),this.model.setWeights?this.model.setWeights(v):this.model.setWeight&&this.model.setWeight(v[0]),this.model.setBias(P);let k=0,y=0;for(const $ of t){const O=this.model.predict($.input),I=$.target-O;k+=I*I,y+=Math.abs(I)}const b=k/t.length,D=y/t.length;b<h&&(h=b,d={weights:[...v],bias:P}),s.push({params:[...f],error:b,mae:D});return}const _=o[a],m=u(_);for(const v of m)f[a]=v,p(a+1,f)};return p(0,new Array(o.length)),{bestParams:d,history:s,minError:h}}trainLegacy(t,n,i){const o=[];let s=n.min,h=i.min,d=1/0;for(let u=n.min;u<=n.max;u+=n.step)for(let p=i.min;p<=i.max;p+=i.step){const a=parseFloat(u.toFixed(2)),f=parseFloat(p.toFixed(2));this.model.setWeight(a),this.model.setBias(f);let _=0,m=0;for(const k of t){const y=this.model.predict(k.input),b=k.target-y;_+=b*b,m+=Math.abs(b)}const v=_/t.length,P=m/t.length;v<d&&(d=v,s=a,h=f),o.push({weight:a,bias:f,error:v,mae:P})}return{bestWeight:s,bestBias:h,history:o}}async trainAsync(t,n,i){if(!Array.isArray(n)){const m=arguments[1],v=arguments[2],P=arguments[3];let k=m.min,y=v.min,b=1/0,D=[];const $=20;let O=0;for(let I=m.min;I<=m.max;I+=m.step)for(let w=v.min;w<=v.max;w+=v.step){const l=parseFloat(I.toFixed(2)),C=parseFloat(w.toFixed(2));this.model.setWeight(l),this.model.setBias(C);let S=0,g=0;for(const T of t){const N=this.model.predict(T.input),L=T.target-N;S+=L*L,g+=Math.abs(L)}const W=S/t.length,R=g/t.length;W<b&&(b=W,k=l,y=C);const E={weight:l,bias:C,error:W,mae:R};D.push(E),O++,O%$===0&&(P&&P(D,{bestWeight:k,bestBias:y,minError:b}),D=[],await new Promise(T=>setTimeout(T,0)))}return D.length>0&&P&&P(D,{bestWeight:k,bestBias:y,minError:b}),{bestWeight:k,bestBias:y,minError:b}}let s=1/0,h={},d=0;const u=50;let p=[];const a=m=>{const v=[];if(m.step<=0)return[m.min];for(let P=m.min;P<=m.max+1e-4;P+=m.step)v.push(parseFloat(P.toFixed(2)));return v},f=n.map(a),_=async(m,v)=>{if(m===n.length){const k=[];let y=0;v.forEach((l,C)=>{n[C].name.toLowerCase().includes("bias")?y=l:k.push(l)});let b={};this.model.setParams?(v.forEach((l,C)=>{b[n[C].name]=l}),this.model.setParams(b),y===void 0&&(y=0)):(this.model.setWeights?this.model.setWeights(k):this.model.setWeight&&this.model.setWeight(k[0]),this.model.setBias(y),b={weights:[...k],bias:y});let D=0,$=0;for(const l of t){const C=this.model.predict(l.input),S=l.target-C;D+=S*S,$+=Math.abs(S)}const O=D/t.length,I=$/t.length;O<s&&(s=O,h=b);const w={params:[...v],error:O,mae:I};p.push(w),d++,d%u===0&&(i&&i(p,{bestParams:h,minError:s}),p=[],await new Promise(l=>setTimeout(l,0)));return}const P=f[m];for(const k of P)v[m]=k,await _(m+1,v)};return await _(0,new Array(n.length)),p.length>0&&i&&i(p,{bestParams:h,minError:s}),{bestParams:h,minError:s}}async trainRandomAsync(t,n,i){let d=1/0,u={},p=n.map(y=>({min:y.min,max:y.max,span:y.max-y.min})),a=p.map(y=>y.min+Math.random()*y.span);const f=y=>{const b=[];let D=0;y.forEach((w,l)=>{n[l].name.toLowerCase().includes("bias")?D=w:b.push(w)});let $={};this.model.setParams?(y.forEach((w,l)=>{$[n[l].name]=w}),this.model.setParams($)):(this.model.setWeights?this.model.setWeights(b):this.model.setWeight&&this.model.setWeight(b[0]),this.model.setBias(D),$={weights:b,bias:D});let O=0,I=0;for(const w of t){const l=this.model.predict(w.input),C=w.target-l;O+=C*C,I+=Math.abs(C)}return{mse:O/t.length,mae:I/t.length,decodedParams:$,weights:b,bias:D}};let _=f(a);d=_.mse,u=_.decodedParams||{weights:_.weights,bias:_.bias,_array:[...a]},i&&i([{params:[...a],error:d,mae:_.mae}],{bestParams:u,minError:d}),await new Promise(y=>setTimeout(y,0));let m=[];const v=10;let P=d,k=[...a];for(let y=0;y<1e4;y++){const D=y<9e3;let $,O;if(D){const W=y/9e3;$=.2*(1-W*.5),O=.5*(1-W*.5)}else $=.1*(1-(y-9e3)/999.9999999999998),O=.5*.5*Math.pow(.992,y-1e4*.9);let I=!1;const w=[...k];let l=!1;for(;!l;)w.forEach((W,R)=>{if(Math.random()<.4)return;l=!0;const E=p[R];let T=!1;if(D){const x=E.span*.15;W<E.min+x&&(E.min-=E.span*.8,E.span=E.max-E.min,T=!0),W>E.max-x&&(E.max+=E.span*.8,E.span=E.max-E.min,T=!0),T&&(I=!0)}let N=E.span*O;T&&(N=Math.max(N,E.span*.25));const L=N;let z=W+(Math.random()-.5)*2*L;z<E.min&&(z=E.min),z>E.max&&(z=E.max),w[R]=z});const C=f(w),S=C.mse-P;let g=!1;if(S<0)g=!0;else{const W=Math.exp(-S/($+1e-9));Math.random()<W&&(g=!0)}if(g&&(k=w,P=C.mse),C.mse<d&&(d=C.mse,u={weights:C.weights,bias:C.bias,_array:[...w]}),m.push({params:[...w],error:C.mse,mae:C.mae}),m.length>=v){let W;I&&(W="Grenzen dynamisch erweitert..."),i&&i(m,{bestParams:u,minError:d,message:W}),m=[],await new Promise(R=>setTimeout(R,0))}}return m.length>0&&i&&i(m,{bestParams:u,minError:d}),{bestParams:u,minError:d}}}function Ke({history:e,currentStepIndex:t,isTraining:n,paramsConfig:i}){const o=pt(null),[s,h]=rt(0),d=6;bt(()=>{h(0)},[i]),bt(()=>{const p=o.current;if(!p||!e||e.length===0)return;const a=p.getContext("2d"),f=p.width,_=p.height;a.clearRect(0,0,f,_),a.fillStyle="#fff",a.fillRect(0,0,f,_);const m=Math.max(...e.map(I=>I.error)),P=!n&&e.length>0?e.length-1:t!==null&&t>=0?Math.min(t,e.length-1):-1;let k=-1,y=1/0;for(let I=0;I<=P;I++)e[I].error<y&&(y=e[I].error,k=I);let b=[];if(i){const I=s*d,w=Math.min(I+d,i.length),l=i.slice(I,w);l.length;const C=3,S=2,g=f/C,W=_/S;b=l.map((R,E)=>{const T=I+E,N=e.map(B=>B.params[T]),L=Math.min(...N),z=Math.max(...N),x=E%C,r=Math.floor(E/C);return{xLabel:R.name,xMin:L,xMax:z,getValue:(B,K)=>B.params[T],offsetX:x*g,offsetY:r*W,w:g,h:W}})}else{const I=f/2,w=e.map(C=>C.weight),l=e.map(C=>C.bias);b=[{xLabel:"Weight",xMin:Math.min(...w),xMax:Math.max(...w),getValue:C=>C.weight,offsetX:0,offsetY:0,w:I,h:_},{xLabel:"Bias",xMin:Math.min(...l),xMax:Math.max(...l),getValue:C=>C.bias,offsetX:I,offsetY:0,w:I,h:_}]}const D=35;b.forEach(I=>{const{xLabel:w,xMin:l,xMax:C,getValue:S,offsetX:g,offsetY:W,w:R,h:E}=I,T=z=>W+E-D-z/(m||1)*(E-2*D),N=z=>g+D+(z-l)/(C-l||1)*(R-2*D);a.strokeStyle="#eee",a.strokeRect(g,W,R,E),a.beginPath(),a.strokeStyle="#333",a.lineWidth=1,a.moveTo(g+D,W+D),a.lineTo(g+D,W+E-D),a.lineTo(g+R-D,W+E-D),a.stroke(),a.fillStyle="#333",a.font="11px sans-serif",a.textAlign="center";let L=w;L.length>20&&(L=L.substring(0,18)+"..."),a.fillText(L,g+R/2,W+E-10),g===0&&(a.save(),a.translate(g+10,W+E/2),a.rotate(-Math.PI/2),a.fillText("Error",0,0),a.restore()),a.fillStyle="#666",a.font="9px sans-serif",a.fillText(l.toFixed(1),g+D,W+E-D+12),a.fillText(C.toFixed(1),g+R-D,W+E-D+12),a.fillStyle="rgba(52, 152, 219, 0.4)";for(let z=0;z<=P;z++){const x=S(e[z],z),r=N(x),B=T(e[z].error);a.fillRect(r,B,2,2)}if(k>=0){const z=S(e[k],k),x=N(z),r=T(e[k].error);a.beginPath(),a.fillStyle="#2ecc71",a.strokeStyle="#27ae60",a.arc(x,r,6,0,Math.PI*2),a.fill(),a.stroke()}if(n&&t!==null&&t>=0&&t<=P){const z=S(e[t],t),x=N(z),r=T(e[t].error);a.beginPath(),a.fillStyle="#e74c3c",a.strokeStyle="#c0392b",a.arc(x,r,5,0,Math.PI*2),a.fill(),a.stroke()}});const $=f-120,O=10;a.fillStyle="rgba(255,255,255,0.8)",a.fillRect($,O,110,50),a.strokeStyle="#ccc",a.strokeRect($,O,110,50),a.textAlign="left",a.font="10px sans-serif",a.beginPath(),a.fillStyle="#e74c3c",a.arc($+10,O+15,4,0,Math.PI*2),a.fill(),a.fillStyle="#333",a.fillText("Current Scan",$+20,O+18),a.beginPath(),a.fillStyle="#2ecc71",a.arc($+10,O+35,4,0,Math.PI*2),a.fill(),a.fillStyle="#333",a.fillText("Best So Far",$+20,O+38),!n&&k>=0&&(a.fillStyle="#333",a.font="bold 12px sans-serif",a.textAlign="right",a.fillText(`Min Error: ${y.toFixed(5)}`,f-10,_-10))},[e,t,n,i,s]);const u=i?Math.ceil(i.length/d):1;return c("div",{style:{border:"1px solid #ccc",borderRadius:"8px",padding:"10px",background:"#fff"},children:[c("canvas",{ref:o,width:800,height:400,style:{width:"100%",height:"auto"}}),u>1&&c("div",{style:{display:"flex",justifyContent:"center",marginTop:"10px",gap:"10px"},children:[c("button",{onClick:()=>h(p=>Math.max(0,p-1)),disabled:s===0,children:"Previous"}),c("span",{style:{alignSelf:"center"},children:["Page ",s+1," of ",u]}),c("button",{onClick:()=>h(p=>Math.min(u-1,p+1)),disabled:s===u-1,children:"Next"})]})]})}function qe({model:e,inputs:t,inputLabels:n,output:i,outputLabel:o}){if(!e||!e.getTopology)return null;const{inputCount:s,hiddenCounts:h,outputCount:d,weights1:u,biases1:p,weights2:a}=e.getTopology();let f={hidden:[],output:[]};e.getActivations&&(f=e.getActivations(t));const _=600,m=400,v=m/2,P=_/2,k=350,y=280,b=P-k/2,D=P+k/2,$=[{count:s,x:b,labels:n,values:t},{count:h[0],x:P,values:f.hidden},{count:d,x:D,labels:[o],values:f.output}],O=Math.max(...$.map(S=>S.count)),I=Math.min(50,y/O),w=(S,g)=>{const R=($[S].count-1)*I;return v-R/2+g*I},l=S=>{const g=Math.max(.2,Math.min(.8,Math.abs(S)/2));return S>0?`rgba(46, 204, 113, ${g})`:`rgba(231, 76, 60, ${g})`},C=S=>{const g=Math.max(0,Math.min(1,S)),W=Math.round(255+-203*g),R=Math.round(255+-103*g),E=Math.round(255+-36*g);return`rgb(${W},${R},${E})`};return c("div",{style:{border:"1px solid #ccc",borderRadius:"8px",padding:"10px",background:"#fff",textAlign:"center"},children:[c("h3",{style:{marginBottom:"10px",fontSize:"1rem",color:"#555"},children:"Neural Network Activity"}),c("svg",{width:_,height:m,style:{overflow:"visible"},children:[c("rect",{x:b,y:v-y/2,width:k,height:y,rx:"15",fill:"none",stroke:"#333",strokeWidth:"3",strokeDasharray:"5,5"}),c("text",{x:P,y:v-y/2+20,textAnchor:"middle",fill:"#777",fontSize:"12",fontWeight:"bold",children:"NEURAL NETWORK"}),u.map((S,g)=>S.map((W,R)=>c("line",{x1:$[0].x,y1:w(0,R),x2:$[1].x,y2:w(1,g),stroke:l(W),strokeWidth:Math.max(1,Math.min(4,Math.abs(W)))},`L0-${R}-${g}`))),a.map((S,g)=>c("line",{x1:$[1].x,y1:w(1,g),x2:$[2].x,y2:w(2,0),stroke:l(S),strokeWidth:Math.max(1,Math.min(4,Math.abs(S)))},`L1-${g}-0`)),$.map((S,g)=>c("g",{children:Array.from({length:S.count}).map((W,R)=>{const E=S.x,T=w(g,R),N=S.values&&S.values[R]!==void 0?S.values[R]:0;return c("g",{children:[c("circle",{cx:E,cy:T,r:12,fill:C(N),stroke:"#333",strokeWidth:"1.5"}),S.labels&&c("text",{x:g===0?E-30:E+30,y:T,textAnchor:g===0?"end":"start",dominantBaseline:"middle",fontSize:"13",fontWeight:"bold",fill:"#333",children:S.labels[R]||""}),c("title",{children:N.toFixed(3)})]},`n-${g}-${R}`)})},`layer-${g}`)),c("g",{transform:`translate(${_-100}, ${m-50})`,children:[c("rect",{width:"90",height:"40",fill:"white",stroke:"#ccc",rx:"4"}),c("line",{x1:"10",y1:"10",x2:"30",y2:"10",stroke:"#2ecc71",strokeWidth:"3"}),c("text",{x:"35",y:"14",fontSize:"10",children:"Positive"}),c("line",{x1:"10",y1:"28",x2:"30",y2:"28",stroke:"#e74c3c",strokeWidth:"3"}),c("text",{x:"35",y:"32",fontSize:"10",children:"Negative"})]})]})]})}function Le({input:e,weight:t,bias:n,output:i,formula:o="y = w * x + b",inputLabel:s="Input",outputLabel:h="Output",biasLabel:d="b",decimals:u=1,model:p=null}){if(p&&p.getTopology){let z=e;e&&!Array.isArray(e)&&typeof e=="object"&&e.input&&Array.isArray(e.input)&&(z=e.input);const x=Array.isArray(z)?z:[z],r=Array.isArray(s)?s:[s];return c(qe,{model:p,inputs:x,inputLabels:r,output:i,outputLabel:h})}let a=e;e&&!Array.isArray(e)&&typeof e=="object"&&e.input&&Array.isArray(e.input)&&(a=e.input);const f=Array.isArray(a)?a:[a],_=Array.isArray(t)?t:[t],m=Array.isArray(s)?s:[s],v=Number(n)||0,P=Number(i)||0,k=f.length,y=24,b=90,D=300,$=60,O=60,I=Math.max(1,k-1)*b,w=Math.max(150,I+$+O),l=w+60,C=600,S=C/2,g=S-D/2,W=S+D/2,R=w/2+20,E=R-I/2,T=W-50,N=T-60,L=`net-viz-title-${Math.floor(Math.random()*1e4)}`;return c("div",{style:{border:"1px solid #ccc",borderRadius:"8px",padding:"10px",background:"#fff",textAlign:"center"},children:[c("h3",{style:{marginBottom:"10px"},children:"Modell Architektur"}),c("svg",{width:C,height:l,style:{overflow:"visible"},"aria-labelledby":L,role:"img",children:[c("title",{id:L,children:["Visualisierung des neuronalen Netzwerks: ",o]}),c("defs",{children:c("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"27",refY:"3.5",orient:"auto",children:c("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#333"})})}),c("rect",{x:g,y:20,width:D,height:w,rx:"15",fill:"none",stroke:"#333",strokeWidth:"3",strokeDasharray:"5,5"}),c("text",{x:S,y:40,textAnchor:"middle",fill:"#777",fontSize:"12",fontWeight:"bold",children:"NEURAL NETWORK"}),(()=>{const z=R-50;return c(xt,{children:[f.map((x,r)=>{const B=k>1?E+r*b:R,K=Number(_[r])||0,ft=m[r]||`x${r+1}`,q=Number(x)||0;return c("g",{children:[c("line",{x1:g,y1:B,x2:N,y2:R,stroke:"#999",strokeWidth:"1"}),c("g",{transform:`translate(${(g+N)/2+(r-(k-1)/2)*5}, ${(B+R)/2})`,children:[c("rect",{x:"-24",y:"-9",width:"50",height:"18",fill:"#fff",rx:"4",stroke:"#e0e0e0"}),c("text",{x:"0",y:"4",textAnchor:"middle",fill:"#e74c3c",fontSize:"10",fontWeight:"bold",children:K.toFixed(1)})]}),c("circle",{cx:g,cy:B,r:y,fill:"#fff",stroke:"#333",strokeWidth:"2"}),c("text",{x:g-40,y:B,textAnchor:"end",dominantBaseline:"middle",fontWeight:"bold",fontSize:"14",children:ft}),c("text",{x:g,y:B,textAnchor:"middle",dominantBaseline:"middle",fontSize:"12",fill:"#333",children:q.toFixed(u)})]},r)}),c("line",{x1:N,y1:R,x2:T,y2:R,stroke:"#333",strokeWidth:"2"}),c("g",{transform:`translate(${T}, ${R})`,children:[c("rect",{x:"-18",y:"-18",width:"36",height:"36",rx:"6",fill:"#fff",stroke:"#333",strokeWidth:"2"}),c("path",{d:"M -10 8 C -4 8, -4 -8, 10 -8",stroke:"#333",strokeWidth:"2",fill:"none"})]}),c("line",{x1:T+18,y1:R,x2:W-y,y2:R,stroke:"#333",strokeWidth:"2"}),c("path",{d:`M ${T-20} ${z} Q ${T-20} ${R} ${N+10} ${R}`,fill:"none",stroke:"#f39c12",strokeWidth:"1",markerEnd:"url(#arrowhead)"}),c("circle",{cx:T-20,cy:z,r:12,fill:"#f1c40f",stroke:"#f39c12"}),c("text",{x:T-23,y:z+5,textAnchor:"middle",dominantBaseline:"middle",fontSize:"12",fontWeight:"bold",fill:"#fff",children:"b"}),c("text",{x:T-5,y:z+5,textAnchor:"start",dominantBaseline:"middle",fontSize:"12",fill:"#f39c12",fontWeight:"bold",children:v.toFixed(2)})]})})(),c("circle",{cx:W,cy:R,r:y,fill:"#fff",stroke:"#333",strokeWidth:"2"}),c("text",{x:W-14,y:R+4,textAnchor:"middle",dominantBaseline:"middle",fontWeight:"bold",fontSize:"12",children:P.toFixed(2)}),c("text",{x:W+40,y:R+4,textAnchor:"start",dominantBaseline:"middle",fontWeight:"bold",fontSize:"14",fill:"#333",children:h}),c("text",{x:S,y:l-15,textAnchor:"middle",fontSize:"12",fontStyle:"italic",fill:"#777",children:o})]})]})}function Ze({data:e,groundTruth:t,neuralNet:n}){const i=pt(null);return bt(()=>{const o=i.current;if(!o)return;const s=o.getContext("2d"),h=o.width,d=o.height;if(s.clearRect(0,0,h,d),!e||e.length===0){s.fillStyle="#999",s.textAlign="center",s.fillText("Keine Daten vorhanden",h/2,d/2);return}const u=40,p=h-2*u,a=d-2*u,f=Math.max(...e.map(P=>P.input))||10,_=Math.max(...e.map(P=>P.target))||100,m=P=>u+P/f*p,v=P=>d-u-P/_*a;if(s.beginPath(),s.strokeStyle="#333",s.moveTo(u,u),s.lineTo(u,d-u),s.lineTo(h-u,d-u),s.stroke(),s.fillStyle="#333",s.textAlign="center",s.fillText("Zeit (t)",h/2,d-10),s.save(),s.translate(15,d/2),s.rotate(-Math.PI/2),s.fillText("Position (s)",0,0),s.restore(),e.forEach(P=>{const k=m(P.input),y=v(P.target);s.beginPath(),s.arc(k,y,3,0,Math.PI*2),s.fillStyle="#2ecc71",s.fill()}),n){s.beginPath(),s.strokeStyle="#e74c3c",s.lineWidth=2;for(let P=0;P<=f;P+=.1){const k=n.predict(P),y=m(P),b=v(k);P===0?s.moveTo(y,b):s.lineTo(y,b)}s.stroke()}},[e,t,n]),c("div",{style:{border:"1px solid #ccc",margin:"10px 0",borderRadius:"4px"},children:c("canvas",{ref:i,width:600,height:300,style:{width:"100%",display:"block"}})})}function Je({onTrain:e,onRun:t,onReset:n,isTraining:i,trainingStep:o,dataCount:s,trainerType:h,onTrainerTypeChange:d}){return c("div",{role:"region","aria-label":"Steuerung",style:{padding:"20px",background:"#eee",borderRadius:"8px",display:"flex",gap:"10px",flexWrap:"wrap",alignItems:"center"},children:[c("span",{"aria-live":"polite",children:["Datenpunkte: ",s]}),c("div",{style:{borderLeft:"1px solid #ccc",paddingLeft:"10px",marginLeft:"10px",display:"flex",gap:"5px",alignItems:"center"},children:[c("select",{value:h,onChange:u=>d(u.target.value),disabled:i,"aria-label":"Trainingsmethode wählen",style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc"},children:[c("option",{value:"exhaustive",children:"Grid Search (Genau)"}),c("option",{value:"random",children:"Adaptive Random (Schnell)"})]}),c("button",{onClick:e,disabled:i||s===0,"aria-busy":i,title:s===0?"Keine Trainingsdaten vorhanden":"Training starten",children:i?"Suche läuft...":"2. Trainieren"})]}),c("button",{onClick:t,disabled:i,children:"3. Simulation Starten"}),c("button",{onClick:n,style:{marginLeft:"auto",background:"#e74c3c",color:"white"},"aria-label":"Simulation zurücksetzen",children:"Reset"})]})}function Qe(){const[e,t]=rt(0),n=[{name:"Simple Perceptron",input:.5,weight:.8,bias:.2,output:.6,inputLabel:"Input",formula:"y = w * x + b"},{name:"Spam Filter (2 Inputs)",input:[1,0],weight:[.5,-.2],bias:.1,output:.8,inputLabel:["Spam Word","Suspicious Link"],formula:"y = w1*x1 + w2*x2 + b"},{name:"Complex Model (5 Inputs)",input:[1,.5,-1,0,.2],weight:[.1,.2,.3,.4,.5],bias:-.5,output:.1,inputLabel:["F1","F2","F3","F4","F5"],formula:"y = Σ(wi*xi) + b"},{name:"Many Inputs (8 Inputs)",input:[1,0,1,0,1,0,1,0],weight:[.1,-.1,.1,-.1,.1,-.1,.1,-.1],bias:0,output:.5,inputLabel:["I1","I2","I3","I4","I5","I6","I7","I8"],formula:"y = ... "}],i=n[e];return c("div",{style:{padding:"20px"},children:[c("h2",{children:"Architecture Gallery"}),c("div",{style:{marginBottom:"20px"},children:[c("button",{onClick:()=>t((e-1+n.length)%n.length),children:"Previous"}),c("span",{style:{margin:"0 10px"},children:[i.name," (",e+1,"/",n.length,")"]}),c("button",{onClick:()=>t((e+1)%n.length),children:"Next"})]}),c("div",{style:{width:"400px",border:"1px dashed #ccc",padding:"10px"},children:c(Le,{input:i.input,weight:i.weight,bias:i.bias,output:i.output,formula:i.formula,inputLabel:i.inputLabel})})]})}class tn{constructor(t=30,n=50){this.velocity=t,this.initialPosition=n}getPosition(t){return this.velocity*t+this.initialPosition}}class en{constructor(){this.weight=0,this.bias=0}predict(t){return this.weight*t+this.bias}setWeight(t){this.weight=t}setBias(t){this.bias=t}}function nn({time:e,groundTruth:t,neuralNet:n,maxDistance:i=300}){const o=pt(null);bt(()=>{const h=o.current;if(!h)return;const d=h.getContext("2d"),u=h.width,p=h.height,a=50,f=u-2*a;d.clearRect(0,0,u,p);const _=t.getPosition(e),m=n.predict(e),v=a+_%i/i*f,P=a+m%i/i*f;d.fillStyle="#f0f0f0",d.fillRect(0,0,u,p/2),d.fillStyle="#e0e0e0",d.fillRect(0,p/2,u,p/2),d.beginPath(),d.strokeStyle="#fff",d.setLineDash([20,20]),d.moveTo(0,p/4),d.lineTo(u,p/4),d.moveTo(0,p*3/4),d.lineTo(u,p*3/4),d.stroke(),d.beginPath(),d.strokeStyle="#ccc",d.setLineDash([]),d.moveTo(a,0),d.lineTo(a,p),d.moveTo(u-a,0),d.lineTo(u-a,p),d.stroke(),s(d,v,p/4,"#2ecc71","Ground Truth"),s(d,P,p*3/4,"#e74c3c","Neural Net"),d.fillStyle="#333",d.font="14px monospace",d.fillText(`Zeit: ${e.toFixed(1)}s`,10,20),d.fillText(`Pos GT: ${_.toFixed(1)}m`,10,40),d.fillText(`Pos NN: ${m.toFixed(1)}m`,10,p/2+40)},[e,t,n,i]);function s(h,d,u,p,a){h.save(),h.translate(d,u),h.fillStyle=p,h.fillRect(-20,-10,40,20),h.fillStyle="#000",h.fillRect(-15,-15,10,5),h.fillRect(5,-15,10,5),h.fillRect(-15,10,10,5),h.fillRect(5,10,10,5),h.fillStyle="#000",h.font="10px sans-serif",h.textAlign="center",h.fillText(a,0,-20),h.restore()}return c("div",{style:{border:"2px solid #333",borderRadius:"8px",overflow:"hidden"},children:c("canvas",{ref:o,width:800,height:300,style:{width:"100%",display:"block"}})})}const he={id:"physics",title:"Phase 1: Lineare Regression (Exhaustive Search 2D)",description:"Physiksimulation: Weg-Zeit-Gesetz (s = v*t + s0)",Model:en,GroundTruth:tn,CanvasComponent:nn,defaultParams:{weight:0,bias:0},groundTruthDefaults:[30,50],getInput:e=>e,generateData:e=>Array.from({length:20},(n,i)=>i*.5).map(n=>({input:n,target:e.getPosition(n)})),trainingConfig:{weightRange:{min:0,max:60,step:1},biasRange:{min:0,max:100,step:2}},networkViz:{formula:"pos = w * t + b",inputLabel:"Zeit (t)",outputLabel:"Pos (m)",biasLabel:"b"}};class sn{constructor(t=.5,n=-5){this.weight=t,this.bias=n}sigmoid(t){return 1/(1+Math.exp(-t))}classify(t){const n=this.sigmoid(this.weight*t+this.bias);return Math.random()<n?1:0}getProbability(t){return this.sigmoid(this.weight*t+this.bias)}}class on{constructor(){this.weight=0,this.bias=0}sigmoid(t){return 1/(1+Math.exp(-t))}predict(t){const n=this.weight*t+this.bias;return this.sigmoid(n)}setWeight(t){this.weight=t}setBias(t){this.bias=t}}function It(e,t,n=10){if(e===t)return[e];const i=de(t-e,!1),o=de(i/(n-1),!0),s=Math.floor(e/o)*o,h=Math.ceil(t/o)*o,d=[],u=o/1e3;for(let p=s;p<h+o/2;p+=o)p>=e-u&&p<=t+u&&d.push(Number(p.toPrecision(12)));return d}function de(e,t){const n=Math.floor(Math.log10(e)),i=e/Math.pow(10,n);let o;return t?i<1.5?o=1:i<3?o=2:i<7?o=5:o=10:i<=1?o=1:i<=2?o=2:i<=5?o=5:o=10,o*Math.pow(10,n)}function rn({time:e,groundTruth:t,neuralNet:n,data:i,staticMode:o=!1,showModel:s=!0,showGroundTruth:h=!0}){const d=pt(null),[u,p]=rt({k:1,x:0,y:0}),[a,f]=rt(!1),_=pt({x:0,y:0}),[m,v]=rt(null),P=pt([]),k=w=>{w.preventDefault();const C=-w.deltaY*.001,S=u.k;let g=S*(1+C);g=Math.max(.5,Math.min(g,10));const W=d.current.getBoundingClientRect(),R=d.current.width/W.width,E=d.current.height/W.height,T=(w.clientX-W.left)*R,N=(w.clientY-W.top)*E,L=40,z=(T-L-u.x)/S,x=(N-(300-L)-u.y)/S,r=T-L-z*g,B=N-(300-L)-x*g;p({k:g,x:r,y:B})},y=w=>{f(!0),_.current={x:w.clientX,y:w.clientY}},b=w=>{const l=d.current;if(!l)return;const C=l.getBoundingClientRect(),S=l.width/C.width,g=l.height/C.height;if(a){const W=(w.clientX-_.current.x)*S,R=(w.clientY-_.current.y)*g;_.current={x:w.clientX,y:w.clientY},p(E=>({...E,x:E.x+W,y:E.y+R})),v(null)}else{const W=(w.clientX-C.left)*S,R=(w.clientY-C.top)*g;let E=null,T=15;const N=P.current;for(let L=N.length-1;L>=0;L--){const z=N[L],x=Math.sqrt(Math.pow(z.x-W,2)+Math.pow(z.y-R,2));x<T&&(T=x,E=z.info)}v(E)}},D=()=>f(!1),$=()=>{f(!1),v(null)},O=pt(0),I=()=>{const w=Date.now();w-O.current<300&&v(null),O.current=w};return bt(()=>{const w=d.current;if(!w)return;const l=w.getContext("2d"),C=w.width,S=w.height;l.clearRect(0,0,C,S),P.current=[];const g=40,W=C-2*g,R=S-2*g,E=0,T=20,N=1,L=M=>g+M/T*W*u.k+u.x,z=M=>S-g-M/N*R*u.k+u.y,x=M=>(M-g-u.x)/(W*u.k)*T,r=M=>-((M-(S-g)-u.y)/(R*u.k))*N,B=x(g),K=x(C-g),ft=r(S-g),q=r(g),Z=It(B,K,10),X=It(ft,q,5);l.beginPath(),l.strokeStyle="#eee",l.lineWidth=1,l.fillStyle="#333",l.textAlign="center",l.textBaseline="top",l.font="10px sans-serif",Z.forEach(M=>{const A=L(M);A<g||A>C-g||(l.moveTo(A,g),l.lineTo(A,S-g),l.fillText(Number(M.toFixed(2)),A,S-g+5))}),l.textAlign="right",l.textBaseline="middle",X.forEach(M=>{const A=z(M);A<g||A>S-g||(l.moveTo(g,A),l.lineTo(C-g,A),l.fillText(Number(M.toFixed(2)),g-5,A))}),l.stroke(),l.beginPath(),l.strokeStyle="#333",l.lineWidth=1,l.rect(g,g,W,R),l.stroke(),l.fillStyle="#333",l.textAlign="center",l.textBaseline="alphabetic",l.fillText("Anzahl 'Spam' Wörter",C/2,S-10),l.save(),l.translate(15,S/2),l.rotate(-Math.PI/2),l.textAlign="center",l.fillText("Spam Wahrscheinlichkeit",0,0),l.restore(),l.save(),l.beginPath(),l.rect(g,g,W,R),l.clip();const J=(M,A,F=[])=>{l.beginPath(),l.strokeStyle=A,l.setLineDash(F),l.lineWidth=2;const V=Math.max(E,B),H=Math.min(T,K);if(H<V)return;const U=(H-V)/100,st=Math.max(U,.05);let Q=!1;for(let lt=V;lt<=H+st;lt+=st){const ct=Math.min(Math.max(lt,E),T);let ut=0;typeof M.getProbability=="function"?ut=M.getProbability(ct):typeof M.predict=="function"&&(ut=M.predict(ct));const Y=L(ct),et=z(ut);Q?l.lineTo(Y,et):(l.moveTo(Y,et),Q=!0)}l.stroke(),l.setLineDash([])};if(h&&t&&J(t,"#ccc",[5,5]),s&&n&&J(n,"#e74c3c"),o&&i)i.forEach(M=>{if(M.input<B-5||M.input>K+5)return;const A=L(M.input),F=z(M.target);P.current.push({x:A,y:F,info:{x:A,y:F,input:M.input,target:M.target}});let V=null;if(n&&s)try{V=n.predict(M.input)>.5?"#e74c3c":"#2ecc71"}catch{}const H=Math.sin(M.input*123)*5,U=Math.cos(M.input*321)*5;V&&(l.beginPath(),l.arc(A+H,F+U,8,0,Math.PI*2),l.strokeStyle=V,l.lineWidth=2,l.stroke()),l.beginPath(),l.arc(A+H,F+U,5,0,Math.PI*2),l.fillStyle=M.target===1?"#e74c3c":"#2ecc71",l.fill(),l.strokeStyle="#fff",l.lineWidth=1,l.stroke()});else if(!o){const A=Math.floor(e*2),F=50,V=U=>{const st=Math.sin(U*123.456)*1e4;return st-Math.floor(st)},H=Math.min(A,F);for(let U=0;U<H;U++){const st=V(U+1),Q=Math.floor(st*21),lt=t?t.getProbability(Q):0,ct=V(U+999)<lt?1:0;if(Q<B-5||Q>K+5)continue;const ut=L(Q),Y=z(ct);let et=null;if(n&&s)try{et=n.predict(Q)>.5?"#e74c3c":"#2ecc71"}catch{}const dt=(V(U+333)-.5)*10,_t=(V(U+444)-.5)*10,G=ut+dt,j=Y+_t;P.current.push({x:G,y:j,info:{x:G,y:j,input:Q,target:ct}}),et&&(l.beginPath(),l.arc(G,j,8,0,Math.PI*2),l.strokeStyle=et,l.lineWidth=2,l.stroke()),l.beginPath(),l.arc(G,j,5,0,Math.PI*2),l.fillStyle=ct?"#e74c3c":"#2ecc71",l.fill(),l.strokeStyle="#fff",l.lineWidth=1,l.stroke()}if(H>0&&H<=F){const U=H-1,st=V(U+1),Q=Math.floor(st*21),lt=t.getProbability(Q),ct=V(U+999)<lt?1:0,ut=(V(U+333)-.5)*10,Y=(V(U+444)-.5)*10,et=L(Q)+ut,dt=z(ct)+Y;et>g&&et<C-g&&dt>g&&dt<S-g&&(l.beginPath(),l.arc(et,dt,8,0,Math.PI*2),l.strokeStyle="#333",l.stroke(),l.fillStyle="#333",l.font="10px sans-serif",l.fillText(`${Q}`,et,dt-12))}}if(l.restore(),m){l.save(),l.fillStyle="rgba(0,0,0,0.8)",l.strokeStyle="#fff";const M=m.target===1?"SPAM":"HAM",A=`Words: ${m.input}`,F=100,V=40;let H=m.x+10,U=m.y-10;H+F>C&&(H=m.x-F-10),U+V>S&&(U=m.y-V-10),U<0&&(U=m.y+10),l.beginPath(),l.roundRect(H,U,F,V,4),l.fill(),l.lineWidth=1,l.stroke(),l.textBaseline="top",l.textAlign="left",l.font="bold 11px sans-serif",l.fillStyle=m.target===1?"#e74c3c":"#2ecc71",l.fillText(M,H+8,U+6),l.fillStyle="#ddd",l.font="10px sans-serif",l.fillText(A,H+8,U+20),l.restore()}},[e,t,n,i,o,s,h,u,m]),c("div",{className:"canvas-container",children:c("canvas",{ref:d,width:600,height:300,style:{width:"100%",border:"1px solid #ccc",background:"#fff",cursor:m?"pointer":a?"grabbing":"grab"},onWheel:k,onMouseDown:y,onMouseMove:b,onMouseUp:D,onMouseLeave:$,onClick:I})})}const an=e=>{const t=Math.sin(e)*1e4;return t-Math.floor(t)},fe={id:"spam",title:"Phase 2: Logistische Regression (Spam Filter)",description:"Spam-Erkennung: Wahrscheinlichkeit p = σ(w*x + b)",Model:on,GroundTruth:sn,CanvasComponent:rn,defaultParams:{weight:0,bias:0},groundTruthDefaults:[.5,-5],getInput:e=>{const t=Math.floor(e);return Math.floor(an(t)*20)},generateData:e=>{const t=[];for(let n=0;n<50;n++){const i=Math.floor(Math.random()*21),o=e.classify(i);t.push({input:i,target:o})}return t.sort((n,i)=>n.input-i.input)},trainingConfig:{weightRange:{min:0,max:2,step:.1},biasRange:{min:-10,max:5,step:.5}},networkViz:{formula:"p = σ(w * x + b)",inputLabel:"Wörter (x)",outputLabel:"Spam? (p)",biasLabel:"b"},isFinished:e=>e>=25};class qt{constructor(t=[.5,.2,.8,-.1],n=-3){this.weights=t,this.bias=n}sigmoid(t){return 1/(1+Math.exp(-t))}classify(t){let n=this.bias;for(let o=0;o<this.weights.length;o++)n+=this.weights[o]*t[o];const i=this.sigmoid(n);return Math.random()<i?1:0}getProbability(t){let n=this.bias;for(let i=0;i<this.weights.length;i++)n+=this.weights[i]*t[i];return this.sigmoid(n)}}class Re{constructor(t=4){this.weights=new Array(t).fill(0),this.bias=0}sigmoid(t){return 1/(1+Math.exp(-t))}predict(t){let n=this.bias;for(let i=0;i<this.weights.length;i++)n+=this.weights[i]*t[i];return this.sigmoid(n)}setWeights(t){this.weights=[...t]}setBias(t){this.bias=t}setWeightAt(t,n){t>=0&&t<this.weights.length&&(this.weights[t]=n)}}const ln=[{label:"Spam Words",idx:0,max:15},{label:"Großbuchstaben",idx:1,max:25},{label:"Links",idx:2,max:8},{label:"Gesamtworte",idx:3,max:100}];function Zt({data:e,currentInput:t,currentPrediction:n,neuralNet:i,allowedModes:o=["features","scatter","3d","text"],hideControls:s=!1,showModel:h=!0,additionalControls:d=null,features:u=ln}){const p=pt(null),[a,f]=rt(o[0]);bt(()=>{o.includes(a)||f(o[0])},[o]);const[_,m]=rt(0),[v,P]=rt(3),[k,y]=rt(2),[b,D]=rt({x:-.5,y:.5}),[$,O]=rt({k:1,x:0,y:0}),I=pt(!1),w=pt({x:0,y:0}),[l,C]=rt(null),S=pt([]),g=x=>{if(a!=="scatter")return;x.preventDefault();const B=-x.deltaY*.001,K=$.k;let ft=K*(1+B);ft=Math.max(.5,Math.min(ft,50));const q=p.current;if(!q)return;const Z=q.getBoundingClientRect(),X=q.width/Z.width,J=q.height/Z.height,M=(x.clientX-Z.left)*X,A=(x.clientY-Z.top)*J,F=50,V=q.height-F,H=(M-F-$.x)/K,U=(V+$.y-A)/K,st=M-F-H*ft,Q=A-V+U*ft;O({k:ft,x:st,y:Q})},W=x=>{a!=="3d"&&a!=="scatter"||(I.current=!0,w.current={x:x.clientX,y:x.clientY})},R=x=>{const r=p.current;if(!r)return;const B=r.getBoundingClientRect(),K=r.width/B.width,ft=r.height/B.height;if(I.current){const F=(x.clientX-w.current.x)*K,V=(x.clientY-w.current.y)*ft;w.current={x:x.clientX,y:x.clientY},a==="3d"?D(H=>({x:H.x+V*.01,y:H.y+F*.01})):a==="scatter"&&O(H=>({...H,x:H.x+F,y:H.y+V}));return}const q=(x.clientX-B.left)*K,Z=(x.clientY-B.top)*ft;let X=null,M=15;const A=S.current;for(let F=A.length-1;F>=0;F--){const V=A[F],H=Math.sqrt((V.x-q)**2+(V.y-Z)**2);H<M&&(M=H,X=V.info)}C(X)},E=()=>{I.current=!1},T=()=>{C(null),I.current=!1},N=pt(0),L=()=>{const x=Date.now();x-N.current<300&&C(null),N.current=x};bt(()=>{const x=p.current;if(!x)return;const r=x.getContext("2d"),B=x.width,K=x.height;r.clearRect(0,0,B,K),r.fillStyle="#fff",r.fillRect(0,0,B,K),S.current=[];const ft=q=>{if(!e||e.length===0)return u[q].max;const Z=Math.max(...e.map(X=>X.input[q]));return Z>0?Z:u[q].max};if(a==="3d"){const q=ft(_),Z=ft(v),X=ft(k),J=B/2,M=K/2,A=150,F=(Y,et,dt)=>{let _t=Y*Math.cos(b.y)-dt*Math.sin(b.y),G=Y*Math.sin(b.y)+dt*Math.cos(b.y),j=et*Math.cos(b.x)-G*Math.sin(b.x),ot=et*Math.sin(b.x)+G*Math.cos(b.x);const nt=400/(400-ot);return{x:J+_t*nt,y:M+j*nt,z:ot}},H=[[-1,-1,-1],[1,-1,-1],[1,1,-1],[-1,1,-1],[-1,-1,1],[1,-1,1],[1,1,1],[-1,1,1]].map(Y=>F(Y[0]*A,Y[1]*A,Y[2]*A)),U="#e29301ff",st="#2980b9",Q="#c00798ff",lt=(Y,et)=>{r.beginPath(),r.strokeStyle=et,r.lineWidth=1,Y.forEach(([dt,_t])=>{r.moveTo(H[dt].x,H[dt].y),r.lineTo(H[_t].x,H[_t].y)}),r.stroke()};lt([[0,1],[3,2],[4,5],[7,6]],U),lt([[0,3],[1,2],[4,7],[5,6]],st),lt([[0,4],[1,5],[2,6],[3,7]],Q),r.font="bold 11px sans-serif",r.fillStyle=U,r.fillText("X: "+u[_].label,H[1].x,H[1].y),r.fillStyle=st,r.fillText("Y: "+u[v].label,H[3].x,H[3].y),r.fillStyle=Q,r.fillText("Z: "+u[k].label,H[4].x,H[4].y);const ct=[],ut=(Y,et)=>Y/et*2-1;if(h&&i&&i.weights){const Y=i.weights[_]||0,et=i.weights[v]||0,dt=i.weights[k]||0,_t=i.bias||0;if(Math.abs(dt)>.001){r.strokeStyle="rgba(142, 68, 173, 0.3)",r.lineWidth=1;const G=(nt,it)=>{const mt=(nt+1)/2*q,gt=(it+1)/2*Z,kt=(-Y*mt-et*gt-_t)/dt;return ut(kt,X)},j=(nt,it)=>{if(Math.abs(nt.z)<=3&&Math.abs(it.z)<=3){const mt=F(nt.x*A,-nt.y*A,nt.z*A),gt=F(it.x*A,-it.y*A,it.z*A);r.beginPath(),r.moveTo(mt.x,mt.y),r.lineTo(gt.x,gt.y),r.stroke()}},ot=6;for(let nt=0;nt<=ot;nt++){const it=-1+nt/ot*2,mt=G(-1,it),gt=G(1,it);j({x:-1,y:it,z:mt},{x:1,y:it,z:gt})}for(let nt=0;nt<=ot;nt++){const it=-1+nt/ot*2,mt=G(it,-1),gt=G(it,1);j({x:it,y:-1,z:mt},{x:it,y:1,z:gt})}}}e&&e.forEach(Y=>{const et=ut(Y.input[_],q),dt=-ut(Y.input[v],Z),_t=ut(Y.input[k],X),G=F(et*A,dt*A,_t*A);let j=null;if(i&&h)try{j=i.predict(Y.input)>.5?"#e74c3c":"#2ecc71"}catch{}ct.push({...G,color:Y.target===1?"#e74c3c":"#2ecc71",radius:3,haloColor:j,pt:Y})}),ct.sort((Y,et)=>Y.z-et.z),ct.forEach(Y=>{Y.z<3&&S.current.push({x:Y.x,y:Y.y,info:{x:Y.x,y:Y.y,text:Y.pt.text,isSpam:Y.pt.target===1,features:{xLabel:u[_].label,xVal:Y.pt.input[_],yLabel:u[v].label,yVal:Y.pt.input[v],zLabel:u[k].label,zVal:Y.pt.input[k]}}}),Y.haloColor&&(r.beginPath(),r.arc(Y.x,Y.y,Y.radius+2,0,Math.PI*2),r.strokeStyle=Y.haloColor,r.lineWidth=1.5,r.stroke()),r.beginPath(),r.arc(Y.x,Y.y,Y.radius,0,Math.PI*2),r.fillStyle=Y.color,r.fill()})}if(a==="scatter"){const q=ft(_),Z=ft(v),X=50,J=B-2*X,M=K-2*X,A=K-X,F="#c0392b",V="#2980b9",H=G=>X+G/q*J*$.k+$.x,U=G=>A-G/Z*M*$.k+$.y;r.save(),r.beginPath(),r.rect(X,X,J,M),r.clip(),r.restore();const st=G=>(G-X-$.x)/(J*$.k)*q,Q=G=>(A+$.y-G)/(M*$.k)*Z,lt=st(X),ct=st(X+J),ut=Q(A),Y=Q(X),et=It(Math.min(lt,ct),Math.max(lt,ct),8),dt=It(Math.min(ut,Y),Math.max(ut,Y),6);r.lineWidth=1,r.strokeStyle="#eee",r.fillStyle="#666",r.font="10px sans-serif",r.textAlign="center",r.textBaseline="top",et.forEach(G=>{const j=H(G);j<X||j>X+J||(r.beginPath(),r.moveTo(j,X),r.lineTo(j,A),r.stroke(),r.fillText(Number(G.toFixed(2)),j,A+5))}),r.textAlign="right",r.textBaseline="middle",dt.forEach(G=>{const j=U(G);j<X||j>A||(r.beginPath(),r.moveTo(X,j),r.lineTo(X+J,j),r.stroke(),r.fillText(Number(G.toFixed(2)),X-5,j))}),r.strokeStyle="#ccc",r.lineWidth=2,r.strokeRect(X,X,J,M),r.textAlign="center",r.font="bold 12px sans-serif",r.fillStyle=F,r.fillText(`${u[_].label}`,X+J/2,A+30),r.save(),r.translate(15,A-M/2),r.rotate(-Math.PI/2),r.fillStyle=V,r.fillText(`${u[v].label}`,0,0),r.restore(),r.save(),r.beginPath(),r.rect(X,X,J,M),r.clip();const _t=(G,j,ot,nt,it)=>{const mt=H(G[_]),gt=U(G[v]);it&&(r.beginPath(),r.arc(mt,gt,ot+3,0,2*Math.PI),r.strokeStyle=it,r.lineWidth=2,r.stroke()),r.beginPath(),r.arc(mt,gt,ot,0,2*Math.PI),r.fillStyle=j,r.fill(),nt&&(r.strokeStyle=nt,r.lineWidth=2,r.stroke())};if(e&&e.forEach(G=>{const j=H(G.input[_]),ot=U(G.input[v]);if(j<X||j>X+J||ot<X||ot>A)return;S.current.push({x:j,y:ot,info:{x:j,y:ot,text:G.text,isSpam:G.target===1,features:{xLabel:u[_].label,xVal:G.input[_],yLabel:u[v].label,yVal:G.input[v]}}});let nt=null;if(i&&h)try{nt=i.predict(G.input)>.5?"#e74c3c":"#2ecc71"}catch{}_t(G.input,G.target===1?"#e74c3c":"#2ecc71",5,"#fff",nt)}),h&&i){let G=i.weights;const j=i.bias||0;if(G){const ot=G[_]||0,nt=G[v]||0,it=j;r.beginPath(),r.strokeStyle="rgba(142, 68, 173, 0.8)",r.lineWidth=2,r.setLineDash([10,5]);const mt=lt-(ct-lt),gt=ct+(ct-lt),kt=(vt,wt)=>({x:H(vt),y:U(wt)});if(Math.abs(nt)>.001){const vt=ze=>(-ot*ze-it)/nt,wt=kt(mt,vt(mt)),Pt=kt(gt,vt(gt));r.moveTo(wt.x,wt.y),r.lineTo(Pt.x,Pt.y)}else if(Math.abs(ot)>.001){const vt=-it/ot,wt=kt(vt,ut-100),Pt=kt(vt,Y+100);r.moveTo(wt.x,wt.y),r.lineTo(Pt.x,Pt.y)}r.stroke(),r.setLineDash([])}}t&&_t(t,"#3498db",8,"#2980b9"),r.restore(),r.fillStyle="#666",r.textAlign="right",r.font="11px sans-serif",r.fillText("Rot=Spam, Grün=OK",B-10,20)}if(a==="text"){if(r.textAlign="center",r.textBaseline="middle",!t||!t.text){r.fillStyle="#999",r.font="20px sans-serif",r.fillText("Kein Text verfügbar",B/2,K/2);return}const q=n>.5,Z=q?"#feeff0":"#effaf0";r.fillStyle=Z,r.fillRect(0,0,B,K);const X=t.text;r.fillStyle="#333",r.font="24px serif";const J=X.split(" ");let M="";const A=35,F=B/2;let V=K/3;const H=B-100;for(let Q=0;Q<J.length;Q++){const lt=M+J[Q]+" ";r.measureText(lt).width>H&&Q>0?(r.fillText(M,F,V),M=J[Q]+" ",V+=A):M=lt}r.fillText(M,F,V),V+=60;const U=t.groundTruth===1;r.font="bold 16px sans-serif",r.fillStyle="#555",r.fillText(`Wahrheit: ${U?"SPAM":"HAM"}`,F,V),V+=30;const st=(n*100).toFixed(1);r.font="bold 20px sans-serif",r.fillStyle=q?"#c0392b":"#27ae60",r.fillText(`Vorhersage: ${q?"SPAM":"HAM"} (${st}%)`,F,V);return}if(a==="features"){const Z=(B-90)/2,X=(K-90)/2;[{x:30,y:30,...u[0]},{x:30+Z+30,y:30,...u[1]},{x:30,y:30+X+30,...u[2]},{x:30+Z+30,y:30+X+30,...u[3]}].forEach(M=>{if(r.strokeStyle="#ccc",r.strokeRect(M.x,M.y,Z,X),r.fillStyle="#333",r.font="12px Arial",r.textAlign="center",r.fillText(M.label,M.x+Z/2,M.y-5),e&&e.forEach(A=>{const F=A.input[M.idx],V=M.x+F/M.max*Z,H=M.y+X-A.target*(X-20)-10;S.current.push({x:V,y:H,info:{x:V,y:H,text:A.text,isSpam:A.target===1,features:{valLabel:M.label,val:F}}});let U=null;if(i&&h)try{U=i.predict(A.input)>.5?"#e74c3c":"#2ecc71"}catch{}U&&(r.beginPath(),r.arc(V,H,4.5,0,2*Math.PI),r.strokeStyle=U,r.lineWidth=1,r.stroke()),r.beginPath(),r.arc(V,H,3,0,2*Math.PI),r.fillStyle=A.target?"rgba(231, 76, 60, 0.6)":"rgba(46, 204, 113, 0.6)",r.fill()}),t){const A=t[M.idx],F=M.x+A/M.max*Z;r.beginPath(),r.moveTo(F,M.y),r.lineTo(F,M.y+X),r.strokeStyle="#3498db",r.setLineDash([5,5]),r.stroke(),r.setLineDash([])}})}if(l&&(a==="features"||a==="scatter"||a==="3d")){r.save(),r.fillStyle="rgba(0,0,0,0.85)",r.strokeStyle="#fff";const q=l.text||"No Text",Z=l.isSpam?"SPAM":"HAM",X=r.measureText(q),J=Math.max(X.width,140)+20;let M=70;l.features&&(l.features.zLabel?M=90:l.features.yLabel?M=85:M=60);let A=l.x+15,F=l.y-15;A+J>B&&(A=l.x-J-10),F+M>K&&(F=l.y-M-10),F<0&&(F=l.y+20),r.beginPath(),r.roundRect(A,F,J,M,5),r.fill(),r.lineWidth=1,r.stroke(),r.textBaseline="top",r.textAlign="left",r.font="bold 12px sans-serif",r.fillStyle=l.isSpam?"#e74c3c":"#2ecc71",r.fillText(Z,A+10,F+10),r.fillStyle="#ddd",r.font="italic 11px sans-serif",r.fillText(q,A+10,F+28),l.features&&(r.fillStyle="#fff",r.font="11px monospace",l.features.xLabel?(r.fillText(`${l.features.xLabel}: ${l.features.xVal}`,A+10,F+46),r.fillText(`${l.features.yLabel}: ${l.features.yVal}`,A+10,F+60),l.features.zLabel&&r.fillText(`${l.features.zLabel}: ${l.features.zVal}`,A+10,F+74)):l.features.valLabel&&r.fillText(`${l.features.valLabel}: ${l.features.val}`,A+10,F+46)),r.restore()}},[e,t,n,i,a,_,v,k,b,h,$]);const z={features:"Alle Features",scatter:"2D Plot","3d":"3D Plot",text:"Text Mode"};return c("div",{style:{textAlign:"center"},children:[!s&&c("div",{style:{marginBottom:"10px",display:"flex",gap:"5px",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",fontSize:"0.9rem"},children:[c("div",{children:d}),c("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[c("select",{value:a,onChange:x=>f(x.target.value),style:{padding:"4px"},children:o.map(x=>c("option",{value:x,children:z[x]},x))}),(a==="scatter"||a==="3d")&&c(xt,{children:[c("span",{children:"X:"}),c("select",{value:_,onChange:x=>m(parseInt(x.target.value)),style:{padding:"4px"},children:u.map(x=>c("option",{value:x.idx,children:x.label},x.idx))}),c("span",{children:"Y:"}),c("select",{value:v,onChange:x=>P(parseInt(x.target.value)),style:{padding:"4px"},children:u.map(x=>c("option",{value:x.idx,children:x.label},x.idx))})]}),a==="3d"&&c(xt,{children:[c("span",{children:"Z:"}),c("select",{value:k,onChange:x=>y(parseInt(x.target.value)),style:{padding:"4px"},children:u.map(x=>c("option",{value:x.idx,children:x.label},x.idx))})]})]})]}),c("canvas",{ref:p,width:600,height:400,style:{border:"1px solid #eee",maxWidth:"100%",borderRadius:"4px",cursor:l?"pointer":a==="3d"||a==="scatter"?I.current?"grabbing":"grab":"default"},onWheel:g,onMouseDown:W,onMouseMove:R,onMouseUp:E,onMouseLeave:E,onMouseOut:T,onClick:L}),!s&&c("div",{style:{fontSize:"0.8rem",color:"#666",marginTop:"5px"},children:a==="3d"?"Drag to rotate 3D view":a==="scatter"?"Drag to Pan, Scroll to Zoom":"Wähle Achsen für die Visualisierung"})]})}const ue=e=>{const t=Math.sin(e)*1e4;return t-Math.floor(t)},Ht=e=>{const t=["winner","won","gift card","urgent","rolex","viagra","cash","prize","singles","marketing","buy","free","money","security alert","click","claim","fake","verification"],n=e.toLowerCase();let i=0;t.forEach(d=>{n.includes(d)&&(i+=1)}),i>10&&(i=10);const o=(e.match(/[A-Z]/g)||[]).length,s=(e.match(/http/g)||[]).length,h=e.split(/\s+/).length;return[i,o,s,h]},St={id:"spam_advanced",title:"Phase 3: Erweiterter Spam-Filter (4 Eingaben)",description:"Spam-Erkennung mit 4 Merkmalen: Spam-Worte, Großbuchstaben, Links, Gesamtworte.",Model:Re,GroundTruth:qt,CanvasComponent:Zt,defaultParams:{weights:[0,0,0,0],bias:0},groundTruthDefaults:[[1.5,.5,2,-.5],-5],getInput:e=>{const t=Math.floor(e*.3),n=ue(t)>.5,i=n?St.examples.spam:St.examples.ham,o=Math.floor(ue(t+99)*i.length),s=i[o],h=Ht(s);return h.text=s,h.groundTruth=n?1:0,h},examples:{spam:["WINNER! Won $1000 Gift Card! Claim at http://prize-giveaway.net","URGENT: Verify account at http://secure-bank-login.com/fraud","Cheap Rolex watches! 50% OFF at www.fake-watches.cn","Lose weight fast! Buy pills: http://diet-miracle.com","CONGRATS! Cash prize waiting: http://claim-money.org","HOT singles waiting! Chat now: http://local-dating.xyz","Refinance 1% APR. Apply: http://easy-loans.biz","Buy 1 get 1 FREE Viagra. http://meds-direct.com","Meet rich men. Signup: http://millionaire-match.com","SECURITY ALERT: Suspicious activity. Check http://account-security-check.com"],ham:["Meeting agenda for tomorrow's team sync","Hey, are we still on for lunch?","Invoice #12345 from AWS Services","Project deadline extended to Friday","Happy Birthday! Hope you have a great day.","Can you review this pull request?","Your Amazon order has shipped.","Fwd: Tickets for the concert","Question about the quarterly report","Let's catch up sometime next week."]},generateData:e=>{const t=[];St.examples.spam.forEach(n=>{const i=Ht(n),o=()=>(Math.random()-.5)*.1,s=i.map(h=>Math.max(0,h+o()));t.push({input:s,target:1,text:n})}),St.examples.ham.forEach(n=>{const o=Ht(n).map(s=>Math.max(0,s+(Math.random()-.5)*.1));t.push({input:o,target:0,text:n})});for(let n=t.length-1;n>0;n--){const i=Math.floor(Math.random()*(n+1));[t[n],t[i]]=[t[i],t[n]]}return t},trainingConfig:{params:[{name:"w1 (Spam-Worte)",min:1,max:4,step:.5},{name:"w2 (Großbuchst.)",min:0,max:2,step:.5},{name:"w3 (Links)",min:0,max:3,step:.5},{name:"w4 (Gesamtworte)",min:-2,max:2,step:.5},{name:"bias",min:-8,max:8,step:2}]},networkViz:{formula:"p = σ(w₁x₁ + w₂x₂ + w₃x₃ + w₄x₄ + b)",inputLabels:["Spam-Worte","Großbuchst.","Links","Gesamtworte"],outputLabel:"Spam? (p)",biasLabel:"b"},isFinished:e=>e>=50};class cn{constructor(t=2,n=10){this.inputCount=t,this.hiddenCount=n;const i=Math.sqrt(6/(t+n));this.weights1=Array(n).fill(0).map(()=>Array.from({length:t},()=>Math.random()*2*i-i)),this.biases1=Array(n).fill(0);const o=Math.sqrt(6/(n+1));this.weights2=Array.from({length:n},()=>Math.random()*2*o-o),this.bias2=0}sigmoid(t){return 1/(1+Math.exp(-t))}predict(t){const n=[];for(let s=0;s<this.hiddenCount;s++){let h=this.biases1[s];for(let d=0;d<this.inputCount;d++)h+=this.weights1[s][d]*t[d];n.push(this.sigmoid(h))}let i=this.bias2;for(let s=0;s<this.hiddenCount;s++)i+=this.weights2[s]*n[s];return this.sigmoid(i)}getActivations(t){const n=[];for(let s=0;s<this.hiddenCount;s++){let h=this.biases1[s];for(let d=0;d<this.inputCount;d++)h+=this.weights1[s][d]*t[d];n.push(this.sigmoid(h))}let i=this.bias2;for(let s=0;s<this.hiddenCount;s++)i+=this.weights2[s]*n[s];const o=this.sigmoid(i);return{hidden:n,output:[o]}}setParams(t){for(let i=0;i<this.hiddenCount;i++){const o=`b1_${i}`;t[o]!==void 0&&(this.biases1[i]=t[o]);for(let s=0;s<this.inputCount;s++){const h=`w1_${i}_${s}`;t[h]!==void 0&&(this.weights1[i][s]=t[h])}}const n="b2";t[n]!==void 0&&(this.bias2=t[n]);for(let i=0;i<this.hiddenCount;i++){const o=`w2_${i}`;t[o]!==void 0&&(this.weights2[i]=t[o])}}getTopology(){return{inputCount:this.inputCount,hiddenCounts:[this.hiddenCount],outputCount:1,weights1:this.weights1,biases1:this.biases1,weights2:this.weights2,bias2:this.bias2}}}const Ee=[{label:"Gesamtworte",idx:0,max:400},{label:"Links",idx:1,max:10}],$e=()=>{const e=[],n=(i,o=.5)=>i+(Math.random()-.5)*o;for(let i=0;i<40;i++){let o,s,h;const d=Math.random();if(d<.1){const u=Math.max(0,10+Math.random()*40),p=Math.floor(Math.random()*2);o=[u,p],s=0,h="Security Alert: Login Code "+Math.floor(Math.random()*9999)}else if(d<.6){const u=50+Math.random()*200,a=Math.random()>.2?1+Math.floor(Math.random()*5):0;o=[u,a],s=a>0?1:0,h=a>0?"You won a prize! Click here.":"Just a normal short message."}else{const u=250+Math.random()*150,p=Math.floor(Math.random()*8);o=[u,p],s=0,h="Attached is the quarterly report found at..."}o[0]=Math.max(0,n(o[0],5)),o[1]=Math.max(0,n(o[1],.2)),e.push({input:o,target:s,text:h})}return e},pe={id:"spam_nonlinear",title:"Phase 4: Nicht-lineare Daten",description:"Spam-Erkennung mit nur 2 Merkmalen, aber komplexer Verteilung. Ein einfacher linearer Klassifikator (Perzeptron) wird hier scheitern.",Model:Re,GroundTruth:qt,CanvasComponent:Zt,defaultParams:{weights:[0,0],bias:0},getInput:e=>({input:[50,0],text:"Live Input"}),generateData:e=>$e(),trainingConfig:{params:[{name:"w1 (Worte)",min:-5,max:5,step:.5},{name:"w2 (Links)",min:-5,max:5,step:.5},{name:"bias",min:-10,max:10,step:1}]},networkViz:{formula:"p = σ(w₁x₁ + w₂x₂ + b)",inputLabels:["Worte","Links"],outputLabel:"Spam?",biasLabel:"b"},featuresConfig:Ee,isFinished:e=>!1},hn=()=>{const e=[];for(let t=0;t<10;t++){e.push({name:`b1_${t}`,min:-3,max:3,step:1});for(let n=0;n<2;n++)e.push({name:`w1_${t}_${n}`,min:-3,max:3,step:1})}e.push({name:"b2",min:-3,max:3,step:1});for(let t=0;t<10;t++)e.push({name:`w2_${t}`,min:-5,max:5,step:1});return e},me={id:"spam_hidden",title:"Phase 5: Deep Learning (Hidden Layer)",description:'Spam-Erkennung mit einem Hidden Layer (10 Neuronen). Das Deep Neural Network kann die nicht-lineare Verteilung ("Spam-Insel") erkennen.',Model:cn,GroundTruth:qt,CanvasComponent:Zt,defaultParams:{},getInput:e=>({input:[50,0],text:"Live Input"}),generateData:e=>$e(),trainingConfig:{params:hn()},networkViz:{formula:"Deep Network",inputLabels:["Worte","Links"],outputLabel:"Spam?",biasLabel:"b"},featuresConfig:Ee,isFinished:e=>e>=50},ge={[he.id]:he,[fe.id]:fe,[St.id]:St,[pe.id]:pe,[me.id]:me};function dn(e){return ge[e]||ge.physics}function fn(){const[e,t]=rt(null),n=pt(null),i=pt(null),[o,s]=rt(0),[h,d]=rt(!1),[u,p]=rt([]),[a,f]=rt([]),[_,m]=rt(-1),[v,P]=rt(!1),[k,y]=rt("simulation"),[b,D]=rt("table"),[$,O]=rt("exhaustive"),[I,w]=rt("Bereit."),l=pt(0);bt(()=>{const N=new URLSearchParams(window.location.search).get("sim")||"physics";if(N==="gallery"){t({id:"gallery",type:"gallery"});return}const L=dn(N);if(!L){w("Fehler: Simulation nicht gefunden.");return}try{if(n.current=new L.GroundTruth(...L.groundTruthDefaults||[]),i.current=new L.Model,L.defaultParams&&(L.defaultParams.weight!==void 0&&i.current.setWeight(L.defaultParams.weight),L.defaultParams.weights!==void 0&&i.current.setWeights&&i.current.setWeights(L.defaultParams.weights),L.defaultParams.bias!==void 0&&i.current.setBias(L.defaultParams.bias)),t(L),n.current)try{const z=L.generateData(n.current);p(z)}catch(z){console.error("Auto-generate data error:",z)}}catch(z){console.error("Initialization Error:",z),w(`Init Fehler: ${z.message}`)}},[]),bt(()=>{let T;const N=L=>{if(!h)return;l.current===0&&(l.current=L);const z=(L-l.current)/1e3;l.current=L;const x=Math.min(z,.1);s(r=>{const K=r+x*3;return e&&e.isFinished&&e.isFinished(K)&&(d(!1),w("Simulation beendet.")),K}),T=requestAnimationFrame(N)};return h&&(l.current=0,T=requestAnimationFrame(N)),()=>cancelAnimationFrame(T)},[h,e]);const C=async()=>{try{if(u.length===0||!e)return;P(!0),m(0),f([]),w("Suche optimales Gewicht und Bias (Live Visualisierung)..."),y("training");const T=new je(i.current),N=(z,x)=>{if(f(r=>{const B=[...r,...z];return m(B.length-1),B}),(x&&x.message||x&&x.message)&&w(x.message),x&&x.bestParams){if(i.current.setParams)i.current.setParams(x.bestParams);else if(i.current.setWeights){const{weights:r,bias:B}=x.bestParams;i.current.setWeights(r),i.current.setBias(B)}}else x&&x.bestWeight!==void 0&&(i.current.setWeight(x.bestWeight),i.current.setBias(x.bestBias))};let L;$==="random"?(w("Suche optimales Gewicht und Bias (Random Search)..."),L=await T.trainRandomAsync(u,e.trainingConfig.params,N)):e.trainingConfig.params?L=await T.trainAsync(u,e.trainingConfig.params,N):L=await T.trainAsync(u,e.trainingConfig.weightRange,e.trainingConfig.biasRange,N),w(`Training fertig! Min Error: ${L.minError.toFixed(5)}`),P(!1)}catch(T){console.error("Training Error:",T),P(!1),w(`Fehler beim Training: ${T.message}`)}},S=()=>{s(0),d(!0),w("Simulation läuft..."),y("simulation")},g=()=>{d(!1),s(0),p([]),f([]),m(-1);try{i.current&&e?.defaultParams&&(e.defaultParams.weight!==void 0&&i.current.setWeight(e.defaultParams.weight),e.defaultParams.weights!==void 0&&i.current.setWeights&&i.current.setWeights(e.defaultParams.weights),e.defaultParams.bias!==void 0&&i.current.setBias(e.defaultParams.bias))}catch(T){console.error("Reset Error:",T)}w("Reset durchgeführt.")};if(!e)return c("div",{children:"Lade Simulation..."});if(e.type==="gallery")return c("div",{className:"container",children:[c("header",{children:[c("h1",{children:"Neural Network Demonstrator"}),c("p",{children:"Architecture Gallery (Debug)"}),c("div",{className:"sim-selector",style:{fontSize:"0.8rem",marginTop:"5px"},children:c("a",{href:"?sim=physics",style:{marginRight:"10px"},children:"Back to App"})})]}),c("main",{children:c(Qe,{})})]});const W=e.CanvasComponent,R=e.networkViz||{},E=e.getInput?e.getInput(o):o;return c("div",{className:"container",children:[c("header",{children:[c("h1",{children:"Neural Network Demonstrator"}),c("p",{children:e.title}),c("div",{className:"sim-selector",style:{fontSize:"0.8rem",marginTop:"5px"},children:[c("a",{href:"?sim=physics",style:{marginRight:"10px",fontWeight:e.id==="physics"?"bold":"normal"},children:"Phase 1 (Physik)"}),c("a",{href:"?sim=spam",style:{marginRight:"10px",fontWeight:e.id==="spam"?"bold":"normal"},children:"Phase 2 (Spam)"}),c("a",{href:"?sim=spam_advanced",style:{marginRight:"10px",fontWeight:e.id==="spam_advanced"?"bold":"normal"},children:"Phase 3 (Spam Extended)"}),c("a",{href:"?sim=spam_nonlinear",style:{marginRight:"10px",fontWeight:e.id==="spam_nonlinear"?"bold":"normal"},children:"Phase 4 (Nonlinear)"}),c("a",{href:"?sim=spam_hidden",style:{fontWeight:e.id==="spam_hidden"?"bold":"normal"},children:"Phase 5 (Deep)"})]})]}),c("main",{children:[c("div",{className:"top-section",style:{display:"flex",gap:"20px",flexWrap:"wrap",alignItems:"start"},children:[c("div",{className:"simulation-wrapper",style:{flex:"1 1 500px"},children:c("div",{className:"simulation-section",children:[c("div",{className:"tabs",children:[c("button",{className:`tab-button ${k==="simulation"?"active":""}`,onClick:()=>y("simulation"),children:"Simulation"}),c("button",{className:`tab-button ${k==="data"?"active":""}`,onClick:()=>y("data"),children:"Daten"}),c("button",{className:`tab-button ${k==="training"?"active":""}`,onClick:()=>y("training"),children:"Training"})]}),k==="simulation"&&c(xt,{children:[e.id==="spam"?c("div",{style:{height:"300px",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5",border:"2px dashed #ddd",borderRadius:"8px"},children:c("p",{style:{color:"#999"},children:'Daten-Visualisierung jetzt im "Daten" Tab'})}):(()=>{let T=0;try{i.current&&(T=i.current.predict(E))}catch(L){console.error("Predict Error",L)}const N={};return["spam_advanced","spam_hidden","spam_nonlinear"].includes(e.id)&&(N.allowedModes=["text"],N.hideControls=!0),e.featuresConfig&&(N.features=e.featuresConfig),c(W,{time:o,data:u,currentInput:E,currentPrediction:T,groundTruth:n.current,neuralNet:i.current,...N})})(),c("div",{className:"stats",style:{marginTop:"10px"},children:[c("p",{children:e.description}),c("p",{style:{color:"#646cff",fontWeight:"bold"},children:["Status: ",I]})]})]}),k==="data"&&c("div",{className:"data-content",children:[(()=>{const T=c("div",{style:{display:"flex",justifyContent:"center"},children:c("div",{style:{background:"#eee",borderRadius:"4px",padding:"2px",display:"flex",gap:"2px"},children:[c("button",{onClick:()=>D("table"),style:{background:b==="table"?"#fff":"transparent",border:"none",borderRadius:"3px",padding:"5px 15px",cursor:"pointer",boxShadow:b==="table"?"0 1px 2px rgba(0,0,0,0.1)":"none",fontWeight:b==="table"?"bold":"normal",color:b==="table"?"#333":"#666"},children:"Tabelle"}),c("button",{onClick:()=>D("plot"),style:{background:b==="plot"?"#fff":"transparent",border:"none",borderRadius:"3px",padding:"5px 15px",cursor:"pointer",boxShadow:b==="plot"?"0 1px 2px rgba(0,0,0,0.1)":"none",fontWeight:b==="plot"?"bold":"normal",color:b==="plot"?"#333":"#666"},children:"Graph"})]})}),N=["spam_advanced","spam_hidden","spam_nonlinear"].includes(e.id);return c(xt,{children:[(!N||b==="table")&&c("div",{style:{marginBottom:"15px"},children:T}),(u.length>0||e.id!=="physics")&&b==="plot"&&c("div",{style:{marginBottom:"20px"},children:e.id==="physics"?c(Ze,{data:u,groundTruth:n.current,neuralNet:a.length>0?i.current:null}):(()=>{const L={};return N?(L.allowedModes=["scatter","3d","features"],L.showModel=a.length>0,L.additionalControls=T):(L.staticMode=!0,L.showGroundTruth=!0,L.showModel=a.length>0),e.featuresConfig&&(L.features=e.featuresConfig),c(W,{time:0,data:u,groundTruth:n.current,neuralNet:i.current,...L})})()})]})})(),b==="table"&&c(xt,{children:u.length>0?c("div",{style:{maxHeight:"400px",overflowY:"auto"},children:c("table",{style:{width:"100%",textAlign:"left",borderCollapse:"collapse",fontSize:"0.9rem"},children:[c("thead",{children:c("tr",{style:{background:"#eee",borderBottom:"2px solid #ddd"},children:[Array.isArray(R.inputLabels)?R.inputLabels.map((T,N)=>c("th",{style:{padding:"8px"},children:T},N)):c("th",{style:{padding:"8px"},children:["Input (",R.inputLabel,")"]}),c("th",{style:{padding:"8px"},children:"Target"}),u.length>0&&u[0].text&&c("th",{style:{padding:"8px"},children:"E-Mail Text"})]})}),c("tbody",{children:u.map((T,N)=>{const L=["spam","spam_advanced"].includes(e.id);let z="transparent",x=T.target,r={padding:"8px"};if(L){const B=T.target===1;z=B?"#ffebee":"#e8f5e9",x=B?"SPAM":"HAM",r={...r,fontWeight:"bold",color:B?"#c0392b":"#27ae60"}}else x=typeof T.target=="number"?T.target.toFixed(2):T.target;return c("tr",{style:{background:z,borderBottom:"1px solid #ddd"},children:[Array.isArray(T.input)?T.input.map((B,K)=>c("td",{style:{padding:"8px"},children:B.toFixed(0)},K)):c("td",{style:{padding:"8px"},children:T.input.toFixed(2)}),c("td",{style:r,children:x}),T.text&&c("td",{style:{padding:"8px",color:"#555",fontStyle:"italic",maxWidth:"300px"},children:T.text})]},N)})})]})}):c("p",{style:{padding:"20px",textAlign:"center",color:"#666"},children:"Noch keine Trainingsdaten generiert."})})]}),k==="training"&&c("div",{className:"training-content",children:a.length>0?c(Ke,{history:a,currentStepIndex:_,isTraining:v,paramsConfig:e.trainingConfig.params}):c("p",{style:{padding:"20px",textAlign:"center",color:"#666"},children:"Noch kein Training gestartet."})})]})}),c("div",{className:"network-wrapper",style:{flex:"0 0 350px"},children:c(Le,{input:E,weight:i.current?i.current.weights||i.current.weight:0,bias:i.current?i.current.bias:0,output:i.current?i.current.predict(E):0,model:i.current,formula:R.formula,inputLabel:R.inputLabels||R.inputLabel,outputLabel:R.outputLabel,biasLabel:R.biasLabel,decimals:e.id.includes("spam")?0:1})})]}),c(Je,{onTrain:C,onRun:S,onReset:g,isTraining:v,trainingStep:_,dataCount:u.length,trainerType:$,onTrainerTypeChange:O})]})]})}Be(c(fn,{}),document.getElementById("app"));
